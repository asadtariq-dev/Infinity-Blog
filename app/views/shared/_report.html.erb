<% if locals[:comment].present? %>
  <% if current_author.id != locals[:comment].author_id %>
    <% report = current_author.reports.find_by(comment: locals[:comment]) %>
    <% if report.nil? %>
      <%= button_to "Report", reports_path, params: {report: {comment_id: locals[:comment].id }}, method: :post, class:"btn btn-dark btn-sm text-danger"%>
    <%else%>
      <%= button_to "Cancel Report", report_path(report), method: :delete, class:"btn btn-dark btn-sm text-danger"%>
    <% end %>
  <%else%>
    <small class="mb-3 text-danger">
      <%= pluralize(locals[:comment].reports.count, "Report")%>
    </small>
  <%end%>
<% else %>
  <% if current_author.id != locals[:post].author_id %>
    <% report = current_author.reports.find_by(post: locals[:post]) %>
    <% if report.nil? %>
      <%= button_to "Report", reports_path, params: {report: {post_id: locals[:post].id }}, method: :post, class:"btn btn-dark text-danger"%>
    <%else%>
      <%= button_to "Cancel Report", report_path(report), method: :delete, class:"btn btn-dark text-danger"%>
    <% end %>
  <%else%>
    <%= pluralize(locals[:post].reports.count, "Report")%>
  <% end %>
<% end %>
