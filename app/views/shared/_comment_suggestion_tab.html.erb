<div class="comment-suggestion-tab container mt-2">
  <ul class="nav nav-tabs mb-2">
    <li class="nav-item">
      <a class="nav-link active rounded mr-2" data-bs-toggle="tab" href="#comment"><strong> <%= pluralize(@post.comments.count, "Comment")%></strong></a>
    </li>
    <li class="nav-item">
      <a class="nav-link rounded" data-bs-toggle="tab" href="#suggestion"><strong> <%= pluralize(@post.suggestions.where(parent_id: nil).count, "Suggestion")%></strong></a>
    </li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="comment">
      <div class="row rounded">
        <div class="col">
          <div class="card-body rounded">
            <%= render @post.comments.where(parent_id: nil).includes(:author).order(id: :desc) %>
            <div class="mt-3 mb-3">
              <%= render partial: 'readers/comments/form', locals: {post: @post, parent: nil} %>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-pane" id="suggestion">
      <div class="row g-0 rounded shadow-sm">
        <div class="col">
          <div class="card-body rounded">
            <% if @post.suggestions.present? %>
              <div class="mt-3 mb-3">
                <%= render @post.suggestions.where(parent_id: nil).includes(:author).order(id: :desc) %>
              </div>
            <%else%>
              <h4 class="mt-3 mb-3 text-center">
                No Suggestions
              </h4>
            <% end %>
            <% if current_author.id != @post.author_id  %>
              <div class="mt-3 mb-3">
                <%= render partial: 'readers/suggestions/form', locals: {post: @post, parent: nil} %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"
      ></script>
</div>
